2020-05-19 03:26

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:26:12] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Filesystem\ProductImage::Thumbnail() should be compatible with SilverStripe\Assets\File::Thumbnail($width, $height) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Filesystem/ProductImage.php on line 16
    [3] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Model\OrderAttribute::canCreate($member = NULL) should be compatible with SilverStripe\ORM\DataObject::canCreate($member = NULL, $context = Array) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php on line 42
    [4] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Model\OrderModifierDescriptor::canCreate($member = NULL) should be compatible with SilverStripe\ORM\DataObject::canCreate($member = NULL, $context = Array) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderModifierDescriptor.php on line 36
    [5] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Model\Order::canCreate($member = NULL) should be compatible with SilverStripe\ORM\DataObject::canCreate($member = NULL, $context = Array) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/Order.php on line 176
    [6] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Forms\Fields\OrderStepField::setValue($value) should be compatible with SilverStripe\Forms\FormField::setValue($value, $data = NULL) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Forms/Fields/OrderStepField.php on line 158
    [7] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Forms\Fields\BuyableSelectField::setValue($data) should be compatible with SilverStripe\Forms\FormField::setValue($value, $data = NULL) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Forms/Fields/BuyableSelectField.php on line 176
    [8] => PHP Fatal error:  Cannot declare class Sunnysideup\Ecommerce\Tasks\EcommerceTaskLinkProductWithImages, because the name is already in use in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Tasks/EcommerceTaskLinkProductWithImages.php on line 177
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:35:24] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => 
    [3] => In Broker.php line 215:
    [4] => 
    [5] =>   [PHPStan\Broker\ClassAutoloadingException]
    [6] =>   Class RestfulServer not found and could not be autoloaded.
    [7] => 
    [8] => 
    [9] => Exception trace:
    [10] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [11] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [12] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [13] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [14] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [15] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [16] =>  spl_autoload_call() at n/a:n/a
    [17] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [18] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [19] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [20] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [21] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [22] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [23] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [24] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [25] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [26] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [27] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [28] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [29] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [30] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [31] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [32] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [33] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [34] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [35] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [36] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [37] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [38] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [39] => 
    [40] => In Broker.php line 215:
    [41] => 
    [42] =>   [PHPStan\Broker\ClassAutoloadingException]
    [43] =>   Class mailer not found and could not be autoloaded.
    [44] => 
    [45] => 
    [46] => Exception trace:
    [47] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [48] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [49] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [50] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [51] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [52] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [53] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [54] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [55] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [56] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [57] =>  spl_autoload_call() at n/a:n/a
    [58] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [59] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [60] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [61] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [62] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [63] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [64] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [65] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [66] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [67] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [68] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [69] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [70] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [71] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [72] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [73] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [74] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [75] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [76] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [77] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [78] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [79] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [80] => 
    [81] => In Broker.php line 215:
    [82] => 
    [83] =>   [Error]
    [84] =>   Class 'PHPStan\Broker\ClassAutoloadingException' not found
    [85] => 
    [86] => 
    [87] => Exception trace:
    [88] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [89] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [90] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [91] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [92] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [93] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [94] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [95] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [96] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [97] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [98] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [99] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [100] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [101] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [102] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [103] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [104] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [105] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [106] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [107] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [108] =>  spl_autoload_call() at n/a:n/a
    [109] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [110] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [111] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [112] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [113] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [114] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [115] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [116] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [117] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [118] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [119] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [120] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [121] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [122] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [123] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [124] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [125] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [126] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [127] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [128] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [129] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [130] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [131] => 
    [132] => In OrderAttribute.php line 229:
    [133] => 
    [134] =>   [ParseError]
    [135] =>   syntax error, unexpected ')', expecting '('
    [136] => 
    [137] => 
    [138] => Exception trace:
    [139] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [140] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [141] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [142] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [143] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [144] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [145] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [146] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [147] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [148] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [149] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [150] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [151] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [152] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [153] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [154] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [155] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [156] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [157] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [158] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [159] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [160] =>  spl_autoload_call() at n/a:n/a
    [161] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [162] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [163] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [164] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [165] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [166] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [167] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [168] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [169] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [170] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [171] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [172] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [173] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [174] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [175] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [176] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [177] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [178] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [179] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [180] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [181] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [182] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [183] => 
    [184] => In OrderAttribute.php line 229:
    [185] => 
    [186] =>   [ParseError]
    [187] =>   syntax error, unexpected ')', expecting '('
    [188] => 
    [189] => 
    [190] => Exception trace:
    [191] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [192] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [193] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [194] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [195] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [196] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [197] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [198] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [199] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [200] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [201] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [202] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [203] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [204] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [205] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [206] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [207] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [208] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [209] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [210] =>  spl_autoload_call() at n/a:n/a
    [211] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [212] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [213] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [214] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [215] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [216] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [217] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [218] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [219] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [220] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [221] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [222] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [223] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [224] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [225] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [226] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [227] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [228] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [229] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [230] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [231] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [232] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [233] => 
    [234] => inspect [-d|--root-dir ROOT-DIR] [-w|--write] [--skip-visibility] [--] <path>
    [235] => 
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:39:44] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => 
    [3] => In Broker.php line 215:
    [4] => 
    [5] =>   [PHPStan\Broker\ClassAutoloadingException]
    [6] =>   Class mailer not found and could not be autoloaded.
    [7] => 
    [8] => 
    [9] => Exception trace:
    [10] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [11] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [12] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [13] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [14] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [15] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [16] =>  spl_autoload_call() at n/a:n/a
    [17] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [18] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [19] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [20] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [21] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [22] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [23] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [24] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [25] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [26] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [27] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [28] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [29] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [30] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [31] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [32] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [33] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [34] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [35] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [36] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [37] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [38] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [39] => 
    [40] => In Broker.php line 215:
    [41] => 
    [42] =>   [Error]
    [43] =>   Class 'PHPStan\Broker\ClassAutoloadingException' not found
    [44] => 
    [45] => 
    [46] => Exception trace:
    [47] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [48] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [49] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [50] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [51] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [52] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [53] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [54] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [55] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [56] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [57] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [58] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [59] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [60] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [61] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [62] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [63] =>  spl_autoload_call() at n/a:n/a
    [64] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [65] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [66] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [67] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [68] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [69] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [70] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [71] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [72] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [73] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [74] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [75] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [76] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [77] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [78] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [79] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [80] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [81] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [82] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [83] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [84] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [85] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [86] => 
    [87] => In OrderAttribute.php line 229:
    [88] => 
    [89] =>   [ParseError]
    [90] =>   syntax error, unexpected ')', expecting '('
    [91] => 
    [92] => 
    [93] => Exception trace:
    [94] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [95] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [96] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [97] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [98] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [99] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [100] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [101] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [102] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [103] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [104] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [105] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [106] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [107] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [108] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [109] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [110] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [111] =>  spl_autoload_call() at n/a:n/a
    [112] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [113] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [114] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [115] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [116] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [117] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [118] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [119] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [120] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [121] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [122] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [123] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [124] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [125] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [126] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [127] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [128] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [129] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [130] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [131] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [132] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [133] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [134] => 
    [135] => In OrderAttribute.php line 229:
    [136] => 
    [137] =>   [ParseError]
    [138] =>   syntax error, unexpected ')', expecting '('
    [139] => 
    [140] => 
    [141] => Exception trace:
    [142] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [143] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [144] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [145] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [146] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [147] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [148] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [149] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [150] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [151] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [152] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [153] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [154] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [155] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [156] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [157] =>  spl_autoload_call() at n/a:n/a
    [158] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [159] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [160] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [161] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [162] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [163] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [164] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [165] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [166] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [167] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [168] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [169] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [170] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [171] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [172] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [173] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [174] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [175] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [176] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [177] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [178] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [179] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [180] => 
    [181] => inspect [-d|--root-dir ROOT-DIR] [-w|--write] [--skip-visibility] [--] <path>
    [182] => 
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:52:18] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => 
    [3] => In Broker.php line 224:
    [4] => 
    [5] =>   [PHPStan\Broker\ClassAutoloadingException]
    [6] =>   Error (Class 'PHPStan\Broker\ClassAutoloadingException' not found) thrown while autoloading class Shoppingcart.
    [7] => 
    [8] => 
    [9] => Exception trace:
    [10] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:224
    [11] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [12] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [13] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [14] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [15] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [16] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [17] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [18] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [19] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [20] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [21] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [22] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [23] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [24] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [25] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [26] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [27] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [28] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [29] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [30] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [31] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [32] => 
    [33] => In Broker.php line 215:
    [34] => 
    [35] =>   [Error]
    [36] =>   Class 'PHPStan\Broker\ClassAutoloadingException' not found
    [37] => 
    [38] => 
    [39] => Exception trace:
    [40] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [41] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [42] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [43] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [44] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [45] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [46] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [47] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [48] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [49] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [50] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [51] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [52] =>  spl_autoload_call() at n/a:n/a
    [53] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [54] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [55] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [56] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [57] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [58] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [59] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [60] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [61] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [62] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [63] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [64] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [65] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [66] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [67] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [68] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [69] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [70] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [71] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [72] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [73] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [74] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [75] => 
    [76] => In OrderAttribute.php line 229:
    [77] => 
    [78] =>   [ParseError]
    [79] =>   syntax error, unexpected ')', expecting '('
    [80] => 
    [81] => 
    [82] => Exception trace:
    [83] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [84] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [85] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [86] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [87] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [88] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [89] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [90] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [91] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [92] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [93] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [94] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [95] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [96] =>  spl_autoload_call() at n/a:n/a
    [97] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [98] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [99] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [100] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [101] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [102] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [103] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [104] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [105] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [106] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [107] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [108] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [109] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [110] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [111] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [112] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [113] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [114] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [115] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [116] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [117] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [118] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [119] => 
    [120] => In OrderAttribute.php line 229:
    [121] => 
    [122] =>   [ParseError]
    [123] =>   syntax error, unexpected ')', expecting '('
    [124] => 
    [125] => 
    [126] => Exception trace:
    [127] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [128] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [129] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [130] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [131] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [132] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [133] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [134] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [135] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [136] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [137] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [138] =>  spl_autoload_call() at n/a:n/a
    [139] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [140] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [141] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [142] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [143] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [144] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [145] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [146] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [147] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [148] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [149] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [150] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [151] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [152] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [153] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [154] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [155] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [156] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [157] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [158] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [159] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [160] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [161] => 
    [162] => inspect [-d|--root-dir ROOT-DIR] [-w|--write] [--skip-visibility] [--] <path>
    [163] => 
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:56:51] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => 
    [3] => In Broker.php line 224:
    [4] => 
    [5] =>   [PHPStan\Broker\ClassAutoloadingException]
    [6] =>   ParseError (syntax error, unexpected ')', expecting '(') thrown while autoloading class Sunnysideup\Ecommerce\Model\Order.
    [7] => 
    [8] => 
    [9] => Exception trace:
    [10] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:224
    [11] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [12] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [13] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [14] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [15] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [16] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [17] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [18] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [19] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [20] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [21] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [22] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [23] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [24] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [25] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [26] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [27] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [28] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [29] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [30] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [31] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [32] => 
    [33] => In Order.php line 2165:
    [34] => 
    [35] =>   [ParseError]
    [36] =>   syntax error, unexpected ')', expecting '('
    [37] => 
    [38] => 
    [39] => Exception trace:
    [40] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/Order.php:2165
    [41] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [42] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [43] =>  spl_autoload_call() at n/a:n/a
    [44] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [45] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [46] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [47] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [48] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [49] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [50] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [51] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [52] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [53] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [54] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [55] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [56] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [57] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [58] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [59] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [60] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [61] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [62] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [63] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [64] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [65] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [66] => 
    [67] => inspect [-d|--root-dir ROOT-DIR] [-w|--write] [--skip-visibility] [--] <path>
    [68] => 
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:59:03] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => PHP Fatal error:  Cannot declare class Sunnysideup\Ecommerce\Tasks\EcommerceTaskCartManipulationCurrent, because the name is already in use in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Tasks/EcommerceTaskCartManipulation.php on line 32
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 16:01:39] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => PHP Fatal error:  Cannot declare class ProductGroup because the name is already in use in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Pages/ProductGroup.php on line 105
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 16:15:16] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => PHP Fatal error:  Class 'ProductGroup_Controller' not found in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Pages/ProductGroupSearchPageController.php on line 9
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 16:18:29] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => PHP Fatal error:  Class 'Sunnysideup\Ecommerce\Pages\Page' not found in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Pages/ProductGroup.php on line 107
)
