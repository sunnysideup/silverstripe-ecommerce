2020-05-19 03:26

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:26:12] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Filesystem\ProductImage::Thumbnail() should be compatible with SilverStripe\Assets\File::Thumbnail($width, $height) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Filesystem/ProductImage.php on line 16
    [3] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Model\OrderAttribute::canCreate($member = NULL) should be compatible with SilverStripe\ORM\DataObject::canCreate($member = NULL, $context = Array) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php on line 42
    [4] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Model\OrderModifierDescriptor::canCreate($member = NULL) should be compatible with SilverStripe\ORM\DataObject::canCreate($member = NULL, $context = Array) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderModifierDescriptor.php on line 36
    [5] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Model\Order::canCreate($member = NULL) should be compatible with SilverStripe\ORM\DataObject::canCreate($member = NULL, $context = Array) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/Order.php on line 176
    [6] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Forms\Fields\OrderStepField::setValue($value) should be compatible with SilverStripe\Forms\FormField::setValue($value, $data = NULL) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Forms/Fields/OrderStepField.php on line 158
    [7] => PHP Warning:  Declaration of Sunnysideup\Ecommerce\Forms\Fields\BuyableSelectField::setValue($data) should be compatible with SilverStripe\Forms\FormField::setValue($value, $data = NULL) in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Forms/Fields/BuyableSelectField.php on line 176
    [8] => PHP Fatal error:  Cannot declare class Sunnysideup\Ecommerce\Tasks\EcommerceTaskLinkProductWithImages, because the name is already in use in /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Tasks/EcommerceTaskLinkProductWithImages.php on line 177
)

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/ss3/upgrades/ecommerce-root
php /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/ss3/upgrades/ecommerce-root/ecommerce/src  --root-dir=/var/www/ss3/upgrades/ecommerce-root --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/ss3/upgrades/ecommerce-root/ecommerce/src"
    [1] => [2020-05-19 15:35:24] Applying ApiChangeWarningsRule to OrderConverter.php...
    [2] => 
    [3] => In Broker.php line 215:
    [4] => 
    [5] =>   [PHPStan\Broker\ClassAutoloadingException]
    [6] =>   Class RestfulServer not found and could not be autoloaded.
    [7] => 
    [8] => 
    [9] => Exception trace:
    [10] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [11] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [12] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [13] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [14] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [15] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [16] =>  spl_autoload_call() at n/a:n/a
    [17] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [18] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [19] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [20] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [21] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [22] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [23] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [24] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [25] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [26] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [27] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [28] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [29] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [30] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [31] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [32] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [33] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [34] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [35] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [36] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [37] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [38] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [39] => 
    [40] => In Broker.php line 215:
    [41] => 
    [42] =>   [PHPStan\Broker\ClassAutoloadingException]
    [43] =>   Class mailer not found and could not be autoloaded.
    [44] => 
    [45] => 
    [46] => Exception trace:
    [47] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [48] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [49] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [50] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [51] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [52] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [53] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [54] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [55] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [56] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [57] =>  spl_autoload_call() at n/a:n/a
    [58] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [59] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [60] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [61] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [62] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [63] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [64] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [65] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [66] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [67] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [68] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [69] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [70] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [71] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [72] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [73] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [74] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [75] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [76] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [77] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [78] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [79] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [80] => 
    [81] => In Broker.php line 215:
    [82] => 
    [83] =>   [Error]
    [84] =>   Class 'PHPStan\Broker\ClassAutoloadingException' not found
    [85] => 
    [86] => 
    [87] => Exception trace:
    [88] =>   at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [89] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [90] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [91] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [92] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [93] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [94] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [95] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [96] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [97] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [98] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [99] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [100] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [101] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [102] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [103] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [104] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [105] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [106] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [107] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [108] =>  spl_autoload_call() at n/a:n/a
    [109] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [110] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [111] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [112] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [113] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [114] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [115] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [116] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [117] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [118] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [119] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [120] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [121] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [122] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [123] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [124] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [125] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [126] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [127] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [128] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [129] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [130] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [131] => 
    [132] => In OrderAttribute.php line 229:
    [133] => 
    [134] =>   [ParseError]
    [135] =>   syntax error, unexpected ')', expecting '('
    [136] => 
    [137] => 
    [138] => Exception trace:
    [139] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [140] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [141] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [142] =>  spl_autoload_call() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [143] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [144] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [145] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [146] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [147] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [148] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [149] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [150] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [151] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [152] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [153] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [154] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [155] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [156] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [157] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [158] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [159] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [160] =>  spl_autoload_call() at n/a:n/a
    [161] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [162] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [163] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [164] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [165] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [166] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [167] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [168] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [169] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [170] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [171] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [172] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [173] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [174] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [175] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [176] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [177] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [178] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [179] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [180] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [181] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [182] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [183] => 
    [184] => In OrderAttribute.php line 229:
    [185] => 
    [186] =>   [ParseError]
    [187] =>   syntax error, unexpected ')', expecting '('
    [188] => 
    [189] => 
    [190] => Exception trace:
    [191] =>   at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderAttribute.php:229
    [192] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [193] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [194] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/OrderItem.php:52
    [195] =>  include() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:444
    [196] =>  Composer\Autoload\includeFile() at /var/www/ss3/upgrader/vendor/composer/ClassLoader.php:322
    [197] =>  Composer\Autoload\ClassLoader->loadClass() at n/a:n/a
    [198] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Model/ProductOrderItem.php:12
    [199] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [200] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [201] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [202] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Email/EcommerceDummyMailer.php:10
    [203] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [204] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [205] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [206] =>  spl_autoload_call() at /var/www/ss3/upgrades/ecommerce-root/ecommerce/src/Api/EcommerceRestfulServer.php:49
    [207] =>  require_once() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [208] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [209] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [210] =>  spl_autoload_call() at n/a:n/a
    [211] =>  class_exists() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [212] =>  PHPStan\Broker\Broker->hasClass() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [213] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [214] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [215] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [216] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [217] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [218] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [219] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/ss3/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [220] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [221] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [222] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/ss3/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [223] =>  PhpParser\NodeTraverser->traverse() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [224] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [225] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [226] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [227] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [228] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/ss3/upgrader/vendor/symfony/console/Command/Command.php:255
    [229] =>  Symfony\Component\Console\Command\Command->run() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:1001
    [230] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:271
    [231] =>  Symfony\Component\Console\Application->doRun() at /var/www/ss3/upgrader/vendor/symfony/console/Application.php:147
    [232] =>  Symfony\Component\Console\Application->run() at /var/www/ss3/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [233] => 
    [234] => inspect [-d|--root-dir ROOT-DIR] [-w|--write] [--skip-visibility] [--] <path>
    [235] => 
)
