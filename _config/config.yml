---
Name: ecommerce
Before: 'app/*'
After:
   - 'framework/*'
   - 'cms/*'
---



DevelopmentAdmin:
  extensions:
    - EcommerceDevelopmentAdminDecorator
  registered_controllers:
    ecommerce:
      controller: 'EcommerceDatabaseAdmin'
      links:
        ecommerce: 'The home page for everything e-commerce'

SilverStripe\Security\Member:
  extensions:
    - EcommerceRole

SilverStripe\CMS\Model\SiteTree:
  extensions:
    - EcommerceSiteTreeExtension
  #we add this index to make caching faster ....
  indexes:
    LastEdited: true

PageController:
  extensions:
    - EcommerceSiteTreeExtensionController

Money:
  extensions:
    - EcommerceMoney

OrderEmailRecordReview:
  url_segment: "ecommerce-email-preview"

EcommerceDatabaseAdmin:
  allowed_actions:
    runTask: ADMIN

SilverStripe\Admin\LeftAndMain:
  extra_requirements_css:
    - ecommerce/css/ecommercecmsfixes.css

---
Only:
  moduleexists: 'grouped-cms-menu'
---
SilverStripe\Admin\LeftAndMain:
  menu_groups:
    Shop:
      - StoreAdmin
      - ProductsAndGroupsModelAdmin
      - ProductConfigModelAdmin
      - SalesAdmin
      - SalesAdminExtras
      - refresh
